<Window x:Class="SimpleDataBindingApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SimpleDataBindingApp"
        mc:Ignorable="d"
        Title="Simple Data Binding Demo" Height="600" Width="900">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <TextBlock Grid.Row="0" Text="WPF Data Binding Demonstration" 
                   Style="{StaticResource HeaderTextStyle}"/>
        
        <!-- Section 1: UserName with PropertyChanged trigger -->
        <StackPanel Grid.Row="1" Margin="{StaticResource StandardMargin}">
            <TextBlock Text="Benutzername (UpdateSourceTrigger=PropertyChanged):" 
                       Style="{StaticResource LabelTextStyle}"/>
            <TextBox Text="{Binding UserName, UpdateSourceTrigger=PropertyChanged}" 
                     Width="300" Style="{StaticResource InputTextBoxStyle}"/>
            <TextBlock Margin="{StaticResource SmallMargin}">
                <Run Text="Aktueller Wert: "/>
                <Run Text="{Binding UserName, Mode=OneWay}" FontWeight="Bold" Foreground="{StaticResource HighlightBrush}"/>
            </TextBlock>
        </StackPanel>
        
        <!-- Section 2: PostRating with business logic (show smiley when rating = 10) -->
        <StackPanel Grid.Row="2" Margin="{StaticResource StandardMargin}">
            <TextBlock Text="Post-Bewertung (UpdateSourceTrigger=LostFocus):" 
                       Style="{StaticResource LabelTextStyle}"/>
            <StackPanel Orientation="Horizontal">
                <TextBox Text="{Binding PostRating, UpdateSourceTrigger=LostFocus}" 
                         Width="100" Style="{StaticResource InputTextBoxStyle}"/>
                <TextBlock Text=" (Geben Sie 10 für perfekte Bewertung ein)" 
                           Style="{StaticResource HintTextStyle}"/>
            </StackPanel>
            <!-- Business Logic 1: Show smiley when rating = 10 -->
            <TextBlock Text="{Binding SmileyText}" 
                       Margin="{StaticResource SmallMargin}" 
                       FontSize="{StaticResource LargeFontSize}" 
                       FontWeight="Bold" 
                       Foreground="{StaticResource SuccessBrush}"/>
        </StackPanel>
        
        <!-- Section 3: BankDeduction with business logic (show warning when >= 1000) -->
        <StackPanel Grid.Row="3" Margin="{StaticResource StandardMargin}">
            <TextBlock Text="Bankabbuchung in Euro (UpdateSourceTrigger=PropertyChanged):" 
                       Style="{StaticResource LabelTextStyle}"/>
            <StackPanel Orientation="Horizontal">
                <TextBox Text="{Binding BankDeduction, UpdateSourceTrigger=PropertyChanged, StringFormat=N2}" 
                         Width="150" Style="{StaticResource InputTextBoxStyle}"/>
                <TextBlock Text=" (Ab 1000 Euro erscheint Warnung)" 
                           Style="{StaticResource HintTextStyle}"/>
            </StackPanel>
            <!-- Business Logic 2: Show warning when deduction >= 1000 -->
            <TextBlock Text="{Binding WarningText}" 
                       Margin="{StaticResource SmallMargin}" 
                       FontSize="{StaticResource LargeFontSize}" 
                       FontWeight="Bold" 
                       Foreground="{StaticResource WarningBrush}"/>
        </StackPanel>
        
        <!-- Section 4: IsActive checkbox (Two-way binding with PropertyChanged) -->
        <StackPanel Grid.Row="4" Margin="{StaticResource StandardMargin}">
            <TextBlock Text="Status (UpdateSourceTrigger=PropertyChanged):" 
                       Style="{StaticResource LabelTextStyle}"/>
            <CheckBox IsChecked="{Binding IsActive, UpdateSourceTrigger=PropertyChanged}" 
                      Content="Aktiv" Margin="{StaticResource SmallMargin}"/>
            <TextBlock Margin="{StaticResource SmallMargin}">
                <Run Text="Status: "/>
                <Run Text="{Binding IsActive, Mode=OneWay}" FontWeight="Bold" 
                     Foreground="{Binding IsActive, Converter={StaticResource BoolToColorConverter}}"/>
            </TextBlock>
        </StackPanel>
        
        <!-- Section 5: ProgressValue slider (Explicit trigger) -->
        <StackPanel Grid.Row="5" Margin="{StaticResource StandardMargin}">
            <TextBlock Text="Fortschritt (UpdateSourceTrigger=Explicit - verwende Button):" 
                       Style="{StaticResource LabelTextStyle}"/>
            <StackPanel Orientation="Horizontal">
                <Slider x:Name="ProgressSlider" 
                        Value="{Binding ProgressValue, UpdateSourceTrigger=Explicit}" 
                        Minimum="0" Maximum="100" Width="300" 
                        TickFrequency="10" IsSnapToTickEnabled="True"/>
                <Button Content="Update" Margin="{StaticResource HorizontalMargin}" 
                        Padding="{StaticResource StandardPadding}"
                        Click="UpdateProgress_Click"/>
            </StackPanel>
            <TextBlock Margin="{StaticResource SmallMargin}">
                <Run Text="Aktueller Fortschritt: "/>
                <Run Text="{Binding ProgressValue, StringFormat=N0}" FontWeight="Bold" Foreground="{StaticResource ProgressBrush}"/>
                <Run Text="%"/>
            </TextBlock>
        </StackPanel>
        
        <!-- Section 6: DisplayMessage with Default trigger -->
        <StackPanel Grid.Row="6" Margin="{StaticResource StandardMargin}">
            <TextBlock Text="Nachricht (UpdateSourceTrigger=Default/LostFocus für TextBox):" 
                       Style="{StaticResource LabelTextStyle}"/>
            <TextBox Text="{Binding DisplayMessage}" 
                     Width="400" Style="{StaticResource InputTextBoxStyle}" 
                     TextWrapping="Wrap"/>
            <Label Content="{Binding DisplayMessage}" 
                   Margin="{StaticResource SmallMargin}" FontStyle="Italic" 
                   Foreground="{StaticResource InfoBrush}"/>
        </StackPanel>
    </Grid>
    
    <!-- Resources for converters -->
    <Window.Resources>
        <local:BoolToColorConverter x:Key="BoolToColorConverter"/>
    </Window.Resources>
</Window>
