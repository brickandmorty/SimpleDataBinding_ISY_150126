<Window x:Class="SimpleDataBindingApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SimpleDataBindingApp"
        mc:Ignorable="d"
        Title="Simple Data Binding Demo" Height="600" Width="900">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <TextBlock Grid.Row="0" Text="WPF Data Binding Demonstration" 
                   FontSize="24" FontWeight="Bold" Margin="0,0,0,20"
                   HorizontalAlignment="Center"/>
        
        <!-- Section 1: UserName with PropertyChanged trigger -->
        <StackPanel Grid.Row="1" Margin="0,10">
            <TextBlock Text="Benutzername (UpdateSourceTrigger=PropertyChanged):" 
                       FontWeight="Bold" Margin="0,0,0,5"/>
            <TextBox Text="{Binding UserName, UpdateSourceTrigger=PropertyChanged}" 
                     Width="300" HorizontalAlignment="Left" Padding="5"/>
            <TextBlock Margin="0,5,0,0">
                <Run Text="Aktueller Wert: "/>
                <Run Text="{Binding UserName, Mode=OneWay}" FontWeight="Bold" Foreground="Blue"/>
            </TextBlock>
        </StackPanel>
        
        <!-- Section 2: PostRating with business logic (show smiley when rating = 10) -->
        <StackPanel Grid.Row="2" Margin="0,10">
            <TextBlock Text="Post-Bewertung (UpdateSourceTrigger=LostFocus):" 
                       FontWeight="Bold" Margin="0,0,0,5"/>
            <StackPanel Orientation="Horizontal">
                <TextBox Text="{Binding PostRating, UpdateSourceTrigger=LostFocus}" 
                         Width="100" Padding="5"/>
                <TextBlock Text=" (Geben Sie 10 für perfekte Bewertung ein)" 
                           VerticalAlignment="Center" Margin="10,0,0,0" 
                           FontStyle="Italic" Foreground="Gray"/>
            </StackPanel>
            <!-- Business Logic 1: Show smiley when rating = 10 -->
            <TextBlock Text="{Binding SmileyText}" 
                       Margin="0,5,0,0" FontSize="16" FontWeight="Bold" 
                       Foreground="Green"/>
        </StackPanel>
        
        <!-- Section 3: BankDeduction with business logic (show warning when >= 1000) -->
        <StackPanel Grid.Row="3" Margin="0,10">
            <TextBlock Text="Bankabbuchung in Euro (UpdateSourceTrigger=PropertyChanged):" 
                       FontWeight="Bold" Margin="0,0,0,5"/>
            <StackPanel Orientation="Horizontal">
                <TextBox Text="{Binding BankDeduction, UpdateSourceTrigger=PropertyChanged, StringFormat=N2}" 
                         Width="150" Padding="5"/>
                <TextBlock Text=" (Ab 1000 Euro erscheint Warnung)" 
                           VerticalAlignment="Center" Margin="10,0,0,0" 
                           FontStyle="Italic" Foreground="Gray"/>
            </StackPanel>
            <!-- Business Logic 2: Show warning when deduction >= 1000 -->
            <TextBlock Text="{Binding WarningText}" 
                       Margin="0,5,0,0" FontSize="16" FontWeight="Bold" 
                       Foreground="Red"/>
        </StackPanel>
        
        <!-- Section 4: IsActive checkbox (Two-way binding with PropertyChanged) -->
        <StackPanel Grid.Row="4" Margin="0,10">
            <TextBlock Text="Status (UpdateSourceTrigger=PropertyChanged):" 
                       FontWeight="Bold" Margin="0,0,0,5"/>
            <CheckBox IsChecked="{Binding IsActive, UpdateSourceTrigger=PropertyChanged}" 
                      Content="Aktiv" Margin="0,5,0,0"/>
            <TextBlock Margin="0,5,0,0">
                <Run Text="Status: "/>
                <Run Text="{Binding IsActive, Mode=OneWay}" FontWeight="Bold" 
                     Foreground="{Binding IsActive, Converter={StaticResource BoolToColorConverter}}"/>
            </TextBlock>
        </StackPanel>
        
        <!-- Section 5: ProgressValue slider (Explicit trigger) -->
        <StackPanel Grid.Row="5" Margin="0,10">
            <TextBlock Text="Fortschritt (UpdateSourceTrigger=Explicit - verwende Button):" 
                       FontWeight="Bold" Margin="0,0,0,5"/>
            <StackPanel Orientation="Horizontal">
                <Slider x:Name="ProgressSlider" 
                        Value="{Binding ProgressValue, UpdateSourceTrigger=Explicit}" 
                        Minimum="0" Maximum="100" Width="300" 
                        TickFrequency="10" IsSnapToTickEnabled="True"/>
                <Button Content="Update" Margin="10,0,0,0" Padding="10,5"
                        Click="UpdateProgress_Click"/>
            </StackPanel>
            <TextBlock Margin="0,5,0,0">
                <Run Text="Aktueller Fortschritt: "/>
                <Run Text="{Binding ProgressValue, StringFormat=N0}" FontWeight="Bold" Foreground="DarkGreen"/>
                <Run Text="%"/>
            </TextBlock>
        </StackPanel>
        
        <!-- Section 6: DisplayMessage with Default trigger -->
        <StackPanel Grid.Row="6" Margin="0,10">
            <TextBlock Text="Nachricht (UpdateSourceTrigger=Default/LostFocus für TextBox):" 
                       FontWeight="Bold" Margin="0,0,0,5"/>
            <TextBox Text="{Binding DisplayMessage}" 
                     Width="400" HorizontalAlignment="Left" 
                     Padding="5" TextWrapping="Wrap"/>
            <Label Content="{Binding DisplayMessage}" 
                   Margin="0,5,0,0" FontStyle="Italic" 
                   Foreground="DarkSlateBlue"/>
        </StackPanel>
    </Grid>
    
    <!-- Resources for converters -->
    <Window.Resources>
        <local:BoolToColorConverter x:Key="BoolToColorConverter"/>
    </Window.Resources>
</Window>
